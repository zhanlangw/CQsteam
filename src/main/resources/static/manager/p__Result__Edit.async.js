(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{"Yxc/":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return I});a("IzEo");var r,n,l,i,o=a("bx4M"),s=(a("DZo9"),a("8z0m")),p=(a("+L6B"),a("2/Rp")),u=a("jehZ"),c=a.n(u),d=(a("5NDa"),a("5rEg")),f=a("p0pE"),m=a.n(f),h=(a("miYZ"),a("tsqr")),v=a("2Taf"),y=a.n(v),g=a("vZ4D"),b=a.n(g),E=a("l4Ni"),w=a.n(E),L=a("ujKo"),_=a.n(L),k=a("MhPg"),F=a.n(k),M=(a("y8nQ"),a("Vl3Y")),C=a("q1tI"),D=a.n(C),V=a("MuoO"),q=a("usdK"),x={labelCol:{span:8},wrapperCol:{span:8}},A=M["a"].Item,I=(r=M["a"].create(),n=Object(V["connect"])(function(e){var t=e.result,a=e.loading;return{result:t,loading:a.models.result}}),r(l=n((i=function(e){function t(){var e,a;y()(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return a=w()(this,(e=_()(t)).call.apply(e,[this].concat(n))),a.normFile=function(e){return Array.isArray(e)?e:e.file.status?e&&e.fileList:e&&e.fileList&&e.fileList.filter(function(e){return!!e.response})},a.beforeUpload=function(e,t){var r=a.props.form.getFieldValue,n=r(t);if(n&&1===n.length)return h["a"].warning("\u53ea\u80fd\u4e0a\u4f201\u4e2a\u6587\u4ef6\uff01"),!1},a.fileMove=function(e){var t=a.props.dispatch;return e.response&&t({type:"global/fetch_file_del",payload:{path:e.response.value}}),!0},a.handleSubmit=function(){var e=a.props,t=e.dispatch,r=e.form.validateFields,n=e.match.params.id;r(function(e,a){if(!e){var r=m()({},a,{id:n});a.path&&a.path[0]&&(r.path=a.path[0].response.value),t({type:"result/fetch_result_upd",payload:m()({},r)})}})},a}return F()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.match.params.id;t({type:"result/fetch_result_item",payload:{id:a}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.form.getFieldDecorator,r=(t.loading,t.result.result_item),n=t.match.params.id,l=r[n]||{},i=l.title,u=l.path;return D.a.createElement(o["a"],{bordered:!1},D.a.createElement(o["a"],null,D.a.createElement(A,c()({},x,{label:"\u7ed3\u679c\u6807\u9898"}),a("title",{result:[{required:!0,message:"\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:i})(D.a.createElement(d["a"],{placeholder:"\u8bf7\u586b\u5199\u6807\u9898"}))),D.a.createElement(A,c()({},x,{label:"\u9644\u4ef6"}),a("path",{result:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u9644\u4ef6"}],valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:u&&[{uid:"-1",name:u.split("/")[u.split("/").length-1],status:"done",response:{value:u},url:u}]||void 0})(D.a.createElement(s["a"],{name:"file",showUploadList:{showPreviewIcon:!1},action:"/api/file/upload?fileType=5",beforeUpload:function(t){return e.beforeUpload(t,"path")},onRemove:this.fileMove,accept:".doc,.docx,.pdf"},D.a.createElement(p["a"],{size:"small",type:"primary"},"\u4e0a\u4f20")))),D.a.createElement("div",{style:{textAlign:"center"}},D.a.createElement(p["a"],{onClick:this.handleSubmit,type:"primary"},"\u786e\u5b9a"),D.a.createElement(p["a"],{onClick:function(){q["a"].push("/result/list")},style:{marginLeft:48}},"\u53d6\u6d88"))))}}]),t}(C["PureComponent"]),l=i))||l)||l)}}]);