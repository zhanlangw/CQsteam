(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{jGaJ:function(e,a,r){"use strict";r.r(a),r.d(a,"default",function(){return $});r("IzEo");var t,n,l,o,i=r("bx4M"),s=(r("+L6B"),r("2/Rp")),c=(r("OaEy"),r("2fM7")),m=r("jehZ"),d=r.n(m),u=(r("5NDa"),r("5rEg")),p=r("p0pE"),f=r.n(p),h=r("2Taf"),g=r.n(h),y=r("vZ4D"),E=r.n(y),v=r("l4Ni"),w=r.n(v),b=r("ujKo"),k=r.n(b),D=r("MhPg"),C=r.n(D),A=(r("y8nQ"),r("Vl3Y")),q=r("q1tI"),F=r.n(q),Z=r("MuoO"),z=r("usdK"),M={labelCol:{span:8},wrapperCol:{span:8}},S=A["a"].Item,$=(t=A["a"].create(),n=Object(Z["connect"])(function(e){var a=e.manager,r=e.loading;return{manager:a,loading:r.models.manager}}),t(l=n((o=function(e){function a(){var e,r;g()(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return r=w()(this,(e=k()(a)).call.apply(e,[this].concat(n))),r.state={confirmDirty:!1},r.handleSubmit=function(){var e=r.props,a=e.dispatch,t=e.form.validateFields;t(function(e,r){e||(delete r.confirm,a({type:"manager/fetch_manager_add",payload:f()({},r)}))})},r.checkConfirm=function(e,a,t){var n=r.props.form;a&&a!==n.getFieldValue("password")?t("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4!"):t()},r.checkPassword=function(e,a,t){var n=r.props.form;a&&r.state.confirmDirty&&n.validateFields(["confirm"],{force:!0}),t()},r.handleConfirmBlur=function(e){var a=e.target.value;r.setState({confirmDirty:r.state.confirmDirty||!!a})},r}return C()(a,e),E()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"manager/fetch_role_list",payload:{start:0,count:1e4}})}},{key:"render",value:function(){var e=this.props,a=e.form.getFieldDecorator,r=e.loading,t=e.manager.role_list;return F.a.createElement(i["a"],{bordered:!1},F.a.createElement(i["a"],null,F.a.createElement(S,d()({},M,{label:"\u7ba1\u7406\u5458\u540d\u79f0"}),a("name",{rules:[{required:!0,message:"\u7ba1\u7406\u5458\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(u["a"],{placeholder:"\u8bf7\u586b\u5199\u7ba1\u7406\u5458\u540d\u79f0"}))),F.a.createElement(S,d()({},M,{label:"\u7ba1\u7406\u5458\u767b\u5f55\u540d"}),a("loginName",{rules:[{required:!0,message:"\u767b\u5f55\u540d\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/(?:^1[3456789]|^9[28])\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7"}]})(F.a.createElement(u["a"],{placeholder:"\u8bf7\u586b\u5199\u624b\u673a\u53f7\u7801"}))),F.a.createElement(S,d()({},M,{label:"\u521d\u59cb\u5bc6\u7801"}),a("password",{rules:[{required:!0,message:"\u521d\u59cb\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{validator:this.checkPassword},{pattern:/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))(?!^.*[\u4E00-\u9FA5].*$)^\S{8,18}$/,message:"\u8bf7\u8f93\u51658-16\u4f4d\u7684\u81f3\u5c11\u5305\u542b\u6570\u5b57,\u5b57\u6bcd,\u7b26\u53f7\u4e24\u79cd\u7c7b\u578b\u7684\u5bc6\u7801"}]})(F.a.createElement(u["a"],{type:"password",placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c118\u4f4d\uff0c\u5305\u542b\u5b57\u6bcd\u548c\u6570\u5b57\u7684\u5bc6\u7801"}))),F.a.createElement(S,d()({},M,{label:"\u786e\u8ba4\u5bc6\u7801"}),a("confirm",{rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801!"},{pattern:/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))(?!^.*[\u4E00-\u9FA5].*$)^\S{8,18}$/,message:"\u8bf7\u8f93\u51658-16\u4f4d\u7684\u81f3\u5c11\u5305\u542b\u6570\u5b57,\u5b57\u6bcd,\u7b26\u53f7\u4e24\u79cd\u7c7b\u578b\u7684\u5bc6\u7801"},{validator:this.checkConfirm}]})(F.a.createElement(u["a"],{onBlur:this.handleConfirmBlur,type:"password",placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801"}))),F.a.createElement(S,d()({},M,{label:"\u9009\u62e9\u89d2\u8272"}),a("roleIds",{rules:[{required:!0,message:"\u89d2\u8272\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(c["a"],{style:{width:"100%"},mode:"multiple",placeholder:"\u8bf7\u9009\u62e9\u89d2\u8272"},t.map(function(e){return F.a.createElement(c["a"].Option,{value:e.id,key:e.id},e.name)})))),F.a.createElement("div",{style:{textAlign:"center"}},F.a.createElement(s["a"],{loading:r,onClick:this.handleSubmit,type:"primary"},"\u786e\u5b9a"),F.a.createElement(s["a"],{onClick:function(){z["a"].push("/manager/list")},style:{marginLeft:48}},"\u53d6\u6d88"))))}}]),a}(q["PureComponent"]),l=o))||l)||l)}}]);