(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{HwpW:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return P});a("IzEo");var n,r,o,l,i=a("bx4M"),c=(a("+L6B"),a("2/Rp")),s=a("jehZ"),p=a.n(s),u=(a("5NDa"),a("5rEg")),d=(a("DZo9"),a("8z0m")),m=(a("Pwec"),a("CtXQ")),f=a("p0pE"),h=a.n(f),b=a("2Taf"),y=a.n(b),g=a("vZ4D"),v=a.n(g),E=a("l4Ni"),w=a.n(E),k=a("ujKo"),C=a.n(k),x=a("MhPg"),M=a.n(x),_=(a("y8nQ"),a("Vl3Y")),q=a("q1tI"),D=a.n(q),F=a("MuoO"),L=a("usdK"),N=a("yEr3"),S=a.n(N),V=(a("Lzxq"),a("JSaN"),a("4mNk")),j=a.n(V),z=a("Psm9");S.a.use(j()({defaultColumns:5,defaultRows:3}));var H={labelCol:{span:4},wrapperCol:{span:8}},I=_["a"].Item,P=(n=_["a"].create(),r=Object(F["connect"])(function(e){var t=e.abstract,a=e.loading;return{abstract:t,loading:a.models.abstract}}),n(o=r((l=function(e){function t(){var e,a;y()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=w()(this,(e=C()(t)).call.apply(e,[this].concat(r))),a.handleSubmit=function(){var e=a.props,t=e.dispatch,n=e.form.validateFields,r=e.match.params.id;n(function(e,a){e||t({type:"abstract/fetch_introduction_upd",payload:h()({},a,{content:a.content.toHTML(),id:r})})})},a.uploadHandler=function(e){var t=a.props,n=t.dispatch,r=t.form,o=r.getFieldValue,l=r.setFieldsValue;if(!e.file)return!1;var i=new FormData,c=o("content");i.append("file",e.file),n({type:"global/fetch_file_upload",payload:i,params:{fileType:5},callback:function(e){c=z["ContentUtils"].insertMedias(c,[{type:"IMAGE",url:e}]),l({content:c})}})},a}return M()(t,e),v()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.form.setFieldsValue;t({type:"abstract/fetch_introduction_item",callback:function(e){a({content:S.a.createEditorState(e.content)})}})}},{key:"render",value:function(){var e=[{key:"antd-uploader",type:"component",component:D.a.createElement(d["a"],{accept:"image/*",showUploadList:!1,customRequest:this.uploadHandler},D.a.createElement("button",{type:"button",className:"control-item button upload-button","data-title":"\u63d2\u5165\u56fe\u7247"},D.a.createElement(m["a"],{type:"picture",theme:"filled"})))}],t=this.props,a=t.form.getFieldDecorator,n=(t.loading,t.abstract.introduction_item),r=n.title;n.content;return D.a.createElement(i["a"],{bordered:!1},D.a.createElement(i["a"],null,D.a.createElement(I,p()({},H,{label:"\u6807\u9898"}),a("title",{rules:[{required:!0,message:"\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:r})(D.a.createElement(u["a"],{placeholder:"\u8bf7\u586b\u5199\u6807\u9898"}))),D.a.createElement(I,{labelCol:{span:4},wrapperCol:{span:17},label:"\u5185\u5bb9"},a("content",{validateTrigger:"onBlur",rules:[{required:!0,validator:function(e,t,a){t.isEmpty()?a("\u8bf7\u8f93\u5165\u5185\u5bb9"):a()}}]})(D.a.createElement(S.a,{contentStyle:{height:500,border:"1px solid #e8e8e8"},controls:["undo","redo","separator","font-size","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","separator","text-indent","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","link","separator","hr","clear","separator","table"],extendControls:e,media:{accepts:{video:!1,audio:!1},externals:{video:!1,audio:!1,embed:!1}},placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"}))),D.a.createElement("div",{style:{textAlign:"center"}},D.a.createElement(c["a"],{onClick:this.handleSubmit,type:"primary"},"\u786e\u5b9a"),D.a.createElement(c["a"],{onClick:function(){L["a"].push("/abstract")},style:{marginLeft:48}},"\u53d6\u6d88"))))}}]),t}(q["PureComponent"]),o=l))||o)||o)}}]);