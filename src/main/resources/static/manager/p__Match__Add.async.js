(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{"8S4v":function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return R});t("T2oS");var n,l,r,m,c=t("W9HT"),s=(t("IzEo"),t("bx4M")),i=(t("+L6B"),t("2/Rp")),o=(t("5NDa"),t("5rEg")),p=(t("14J3"),t("BMrR")),u=(t("giR+"),t("fyUT")),d=(t("jCWc"),t("kPKH")),E=t("jehZ"),h=t.n(E),g=(t("iQDF"),t("+eQT")),f=t("p0pE"),v=t.n(f),b=t("2Taf"),y=t.n(b),C=t("vZ4D"),k=t.n(C),w=t("l4Ni"),M=t.n(w),T=t("ujKo"),D=t.n(T),q=t("MhPg"),Y=t.n(q),H=(t("y8nQ"),t("Vl3Y")),x=(t("7Kak"),t("9yH6")),A=(t("sRBo"),t("kaz8")),S=t("q1tI"),F=t.n(S),I=t("MuoO"),B=t("usdK"),N=t("wd/R"),G=t.n(N),L=(A["a"].Group,x["a"].Group,{labelCol:{span:8},wrapperCol:{span:8}}),V=H["a"].Item,R=(n=H["a"].create(),l=Object(I["connect"])(function(e){var a=e.match,t=e.global,n=e.loading;return{match:a,area:t.area,loading:n.models.match}}),n(r=l((m=function(e){function a(){var e,t;y()(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=M()(this,(e=D()(a)).call.apply(e,[this].concat(l))),t.state={checkedList:[],confirmDirty:!1,checkAll:!1,indeterminate:!1},t.onChange=function(e){t.setState({checkedList:e})},t.checkAll=function(e){var a=t.props,n=a.form.setFieldsValue,l=a.area,r=e.target.checked;t.setState({indeterminate:!1,checkAll:r}),n(r?{areaIds:l.map(function(e){return e.key})}:{areaIds:void 0})},t.areaIdsChange=function(e){var a=t.props,n=a.form.setFieldsValue,l=a.area;e.length===l.length?t.setState({indeterminate:!1,checkAll:!0}):t.setState({indeterminate:!0,checkAll:!1}),n({areaIds:e})},t.checkMin=function(e,a,n){var l=t.props.form;a&&a<l.getFieldValue("minMember")?n("\u6700\u5927\u6570\u91cf\u4e0d\u80fd\u5c0f\u4e8e\u6700\u5c0f\u6570\u91cf!"):(a&&t.state.confirmDirty&&l.validateFields(["minMember"],{force:!0}),n())},t.checkMax=function(e,a,n){var l=t.props.form;a&&a>l.getFieldValue("maxMember")?n("\u6700\u5c0f\u6570\u91cf\u4e0d\u80fd\u5927\u4e8e\u6700\u5927\u6570\u91cf!"):n()},t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.handleSubmit=function(){var e=t.props,a=e.dispatch,n=e.form.validateFields;n(function(e,t){e||(delete t.match,t.signUpTime=G()(t.signUpTime).format("YYYY/MM/DD HH:mm:ss"),t.stages.map(function(e){e.endTime=G()(e.endTime).format("YYYY/MM/DD HH:mm:ss")}),a({type:"match/fetch_match_add",payload:v()({},t)}))})},t.disabledEndDate=function(e){var a=t.props.form.getFieldValue,n=a("signUpTime");return e&&e<G()(n).endOf("day")},t}return Y()(a,e),k()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"global/fetch_area"})}},{key:"render",value:function(){var e=this,a=this.props,t=a.form.getFieldDecorator,n=a.loading,l=a.area,r=this.state,m=r.checkedList,E=r.checkAll,f=r.indeterminate,v=m.sort().map(function(a,n){var l=1===a?"\u521d\u8d5b":2===a?"\u590d\u8d5b":"\u51b3\u8d5b";return F.a.createElement("div",{key:a},F.a.createElement("p",{style:{textAlign:"center",color:"#005d7e"}},F.a.createElement("span",null,l)),F.a.createElement(V,h()({},L,{label:"\u6750\u6599\u622a\u6b62\u65f6\u95f4"}),t("stages[".concat(n,"][endTime]"),{rules:[{required:!0,message:"\u6750\u6599\u622a\u6b62\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(g["a"],{showTime:!0,disabledDate:e.disabledEndDate,style:{width:"100%"},format:"YYYY/MM/DD HH:mm:ss",placeholder:"\u8bf7\u9009\u62e9\u6750\u6599\u622a\u6b62\u65f6\u95f4"}))),F.a.createElement(p["a"],{gutter:10},F.a.createElement(d["a"],{span:8},F.a.createElement("div",{style:{textAlign:"right",height:40,lineHeight:"40px",color:"rgba(0, 0, 0, 0.85)"}},F.a.createElement("span",{className:"ant-form-item-required"},"\u6750\u6599\u6570\u91cf\u914d\u7f6e(\u6700\u591a) :"))),F.a.createElement(d["a"],{span:8},F.a.createElement(p["a"],null,F.a.createElement(d["a"],{span:12},F.a.createElement(V,{labelCol:{span:7},wrapperCol:{span:17},label:"PPT"},t("stages[".concat(n,"][pptNum]"),{rules:[{required:!0,message:"\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(u["a"],{min:0})))),F.a.createElement(d["a"],{span:12},F.a.createElement(V,{labelCol:{span:7},wrapperCol:{span:17},label:"\u6587\u4ef6"},t("stages[".concat(n,"][docNum]"),{rules:[{required:!0,message:"\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(u["a"],{min:0}))))),F.a.createElement(p["a"],null,F.a.createElement(d["a"],{span:12},F.a.createElement(V,{labelCol:{span:7},wrapperCol:{span:17},label:"\u89c6\u9891"},t("stages[".concat(n,"][videoNum]"),{rules:[{required:!0,message:"\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(u["a"],{min:0})))),F.a.createElement(d["a"],{span:12},F.a.createElement(V,{labelCol:{span:7},wrapperCol:{span:17},label:"\u56fe\u7247"},t("stages[".concat(n,"][imageNum]"),{rules:[{required:!0,message:"\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(u["a"],{min:0}))))))),F.a.createElement(V,{labelCol:{span:7},wrapperCol:{span:17}},t("stages[".concat(n,"][type]"),{initialValue:a})(F.a.createElement(o["a"],{type:"hidden"}))))});return F.a.createElement(s["a"],{bordered:!1},F.a.createElement(c["a"],{spinning:n},F.a.createElement(s["a"],null,F.a.createElement(V,h()({},L,{label:"\u7c7b\u522b\u540d\u79f0"}),t("name",{rules:[{required:!0,message:"\u7c7b\u522b\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(o["a"],{placeholder:"\u8bf7\u586b\u5199\u7c7b\u522b\u540d\u79f0"}))),F.a.createElement(V,h()({},L,{label:"\u7b80\u79f0"}),t("abbreviation",{rules:[{required:!0,message:"\u7b80\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(o["a"],{placeholder:"\u8bf7\u586b\u5199\u7b80\u79f0"}))),F.a.createElement(p["a"],{gutter:10},F.a.createElement(d["a"],{span:8},F.a.createElement("div",{style:{textAlign:"right",height:40,lineHeight:"40px",color:"rgba(0, 0, 0, 0.85)"}},F.a.createElement("span",{className:"ant-form-item-required"},"\u6210\u5458\u6570\u91cf\u914d\u7f6e :"))),F.a.createElement(d["a"],{span:4},F.a.createElement(V,{labelCol:{span:7},wrapperCol:{span:17},label:"\u6700\u5c11"},t("minMember",{rules:[{required:!0,message:"\u6700\u5c11\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a"},{validator:this.checkMax}]})(F.a.createElement(u["a"],{onBlur:this.handleConfirmBlur,min:1})))),F.a.createElement(d["a"],{span:4},F.a.createElement(V,{labelCol:{span:7},wrapperCol:{span:17},label:"\u6700\u591a"},t("maxMember",{rules:[{required:!0,message:"\u6700\u591a\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a"},{validator:this.checkMin}]})(F.a.createElement(u["a"],{onBlur:this.handleConfirmBlur,min:1}))))),F.a.createElement(V,h()({},L,{label:"\u7ec4\u522b\u914d\u7f6e"}),t("group",{rules:[{required:!0,message:"\u7ec4\u522b\u914d\u7f6e\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(A["a"].Group,{style:{width:"100%",marginTop:9}},F.a.createElement(p["a"],null,F.a.createElement(d["a"],{span:6},F.a.createElement(A["a"],{value:1},"\u5c0f\u5b66")),F.a.createElement(d["a"],{span:6},F.a.createElement(A["a"],{value:2},"\u521d\u4e2d")),F.a.createElement(d["a"],{span:6},F.a.createElement(A["a"],{value:3},"\u9ad8\u4e2d")),F.a.createElement(d["a"],{span:6},F.a.createElement(A["a"],{value:4},"\u4e2d\u5b66")))))),F.a.createElement(V,h()({},L,{label:"\u7701\u4efd\u914d\u7f6e"}),F.a.createElement("div",{style:{height:200,overflow:"auto",paddingLeft:48,border:"1px solid #eee",borderRadius:5}},F.a.createElement(p["a"],{style:{marginLeft:-24}},F.a.createElement(d["a"],{span:24},F.a.createElement(A["a"],{checked:E,indeterminate:f,onChange:this.checkAll,value:"*"},"\u5168\u9009"))),t("areaIds",{rules:[{required:!0,message:"\u7701\u4efd\u914d\u7f6e\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(A["a"].Group,{onChange:this.areaIdsChange,style:{width:"100%",marginTop:-6}},F.a.createElement(p["a"],null,l.map(function(e){return F.a.createElement(d["a"],{style:{marginTop:8},key:e.key,span:24},F.a.createElement(A["a"],{value:e.key},e.title))})))))),F.a.createElement(V,{labelCol:{span:8},wrapperCol:{span:16},label:"\u9009\u62e9\u9700\u8981\u914d\u7f6e\u7684\u9009\u9879"},t("paramSetting",{rules:[{required:!0,message:"\u9009\u9879\u914d\u7f6e\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(A["a"].Group,{style:{width:"100%",marginTop:9}},F.a.createElement(p["a"],null,F.a.createElement(d["a"],{span:24},F.a.createElement(A["a"],{value:1},"\u662f\u5426\u9700\u8981\u9009\u62e9\u6210\u5458\u8eab\u4efd"),F.a.createElement(A["a"],{value:2},"\u662f\u5426\u9700\u8981\u9009\u62e9\u6559\u6388\u5b66\u79d1"),F.a.createElement(A["a"],{value:3},"\u662f\u5426\u9700\u8981\u586b\u5199\u6307\u5bfc\u8001\u5e08")),F.a.createElement(d["a"],{span:24,style:{marginTop:12}},F.a.createElement(A["a"],{value:4},"\u662f\u5426\u9700\u8981\u586b\u5199\u9879\u76ee\u540d\u79f0\uff0c\u9879\u76ee\u7b80\u4ecb"),F.a.createElement(A["a"],{value:5},"\u662f\u5426\u9700\u8981\u586b\u5199\u62a4\u7167\u53f7\u7801\u3001\u7236\u6bcd\u59d3\u540d\u3001\u7236\u6bcd\u624b\u673a\u53f7\u3001\u5730\u5740")))))),F.a.createElement(V,h()({},L,{label:"\u624b\u673a\u53f7"}),t("telephoneType",{rules:[{required:!0,message:"\u624b\u673a\u53f7\u9009\u62e9\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(x["a"].Group,{style:{width:"100%"}},F.a.createElement(x["a"],{value:1},"\u5b66\u751f\u5bb6\u957f\u624b\u673a\u53f7"),F.a.createElement(x["a"],{value:2},"\u624b\u673a\u53f7")))),F.a.createElement(V,h()({},L,{label:"\u62a5\u540d\u5f00\u59cb\u65f6\u95f4"}),t("signUpTime",{rules:[{required:!0,message:"\u62a5\u540d\u5f00\u59cb\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(g["a"],{showTime:!0,style:{width:"100%"},format:"YYYY/MM/DD HH:mm:ss",placeholder:"\u8bf7\u9009\u62e9\u62a5\u540d\u5f00\u59cb\u65f6\u95f4"}))),F.a.createElement(V,h()({},L,{label:"\u6bd4\u8d5b\u9636\u6bb5"}),t("match",{rules:[{required:!0,message:"\u6bd4\u8d5b\u9636\u6bb5\u4e0d\u80fd\u4e3a\u7a7a"}]})(F.a.createElement(A["a"].Group,{onChange:this.onChange,style:{width:"100%",marginTop:9}},F.a.createElement(p["a"],null,F.a.createElement(d["a"],{span:6},F.a.createElement(A["a"],{value:1},"\u521d\u8d5b")),F.a.createElement(d["a"],{span:6},F.a.createElement(A["a"],{value:2},"\u590d\u8d5b")),F.a.createElement(d["a"],{span:6},F.a.createElement(A["a"],{value:3},"\u51b3\u8d5b")))))),v,F.a.createElement("div",{style:{textAlign:"center"}},F.a.createElement(i["a"],{loading:n,onClick:this.handleSubmit,type:"primary"},"\u786e\u5b9a"),F.a.createElement(i["a"],{onClick:function(){B["a"].push("/match/list")},style:{marginLeft:48}},"\u53d6\u6d88")))))}}]),a}(S["Component"]),r=m))||r)||r)}}]);