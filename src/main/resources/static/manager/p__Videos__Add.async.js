(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[76],{LMOR:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return Z});a("IzEo");var n,r,l,i,o=a("bx4M"),s=(a("DZo9"),a("8z0m")),p=(a("+L6B"),a("2/Rp")),c=a("jehZ"),u=a.n(c),d=(a("5NDa"),a("5rEg")),f=a("p0pE"),m=a.n(f),h=(a("miYZ"),a("tsqr")),v=a("2Taf"),g=a.n(v),y=a("vZ4D"),E=a.n(y),b=a("l4Ni"),w=a.n(b),L=a("ujKo"),M=a.n(L),F=a("MhPg"),k=a.n(F),C=(a("y8nQ"),a("Vl3Y")),P=a("q1tI"),q=a.n(P),A=a("MuoO"),D=a("usdK"),I={labelCol:{span:4},wrapperCol:{span:8}},U=C["a"].Item,Z=(n=C["a"].create(),r=Object(A["connect"])(function(e){var t=e.videos,a=e.loading;return{videos:t,loading:a.models.videos}}),n(l=r((i=function(e){function t(){var e,a;g()(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return a=w()(this,(e=M()(t)).call.apply(e,[this].concat(r))),a.normFile=function(e){return Array.isArray(e)?e:e.file.status?e&&e.fileList:e&&e.fileList&&e.fileList.filter(function(e){return!!e.response})},a.beforeUpload=function(e,t){var n=a.props.form.getFieldValue,r=n(t);if(r&&1===r.length)return h["a"].warning("\u53ea\u80fd\u4e0a\u4f201\u4e2a\u6587\u4ef6\uff01"),!1},a.fileMove=function(e){var t=a.props.dispatch;return e.response&&t({type:"global/fetch_file_del",payload:{path:e.response.value}}),!0},a.handleSubmit=function(){var e=a.props,t=e.dispatch,n=e.form.validateFields;n(function(e,a){e||t({type:"videos/fetch_videos_add",payload:m()({},a,{path:a.path[0].response.value})})})},a}return k()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.form.getFieldDecorator,n=t.loading;return q.a.createElement(o["a"],{bordered:!1},q.a.createElement(o["a"],null,q.a.createElement(U,u()({},I,{label:"\u89c6\u9891\u6807\u9898"}),a("title",{rules:[{required:!0,message:"\u89c6\u9891\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a"}]})(q.a.createElement(d["a"],{placeholder:"\u8bf7\u586b\u5199\u89c6\u9891\u6807\u9898"}))),q.a.createElement(U,u()({},I,{label:"\u89c6\u9891\u6587\u4ef6"}),a("path",{rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u89c6\u9891\u6587\u4ef6"}],valuePropName:"fileList",getValueFromEvent:this.normFile})(q.a.createElement(s["a"],{name:"file",showUploadList:{showPreviewIcon:!1},action:"/api/file/upload?fileType=5",accept:".mp4",beforeUpload:function(t){return e.beforeUpload(t,"path")},onRemove:this.fileMove},q.a.createElement(p["a"],{size:"small",type:"primary"},"\u4e0a\u4f20"),q.a.createElement("span",{style:{marginLeft:24}},"\u652f\u6301\u89c6\u9891\u683c\u5f0f\u4e3aMP4")))),q.a.createElement("div",{style:{textAlign:"center"}},q.a.createElement(p["a"],{loading:n,onClick:this.handleSubmit,type:"primary"},"\u786e\u5b9a"),q.a.createElement(p["a"],{onClick:function(){D["a"].push("/videos/list")},style:{marginLeft:48}},"\u53d6\u6d88"))))}}]),t}(P["PureComponent"]),l=i))||l)||l)}}]);