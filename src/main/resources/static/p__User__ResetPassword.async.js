(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{OgmY:function(e,t,a){e.exports={login:"login___2BfbF"}},Tx4I:function(e,t,a){"use strict";var r=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var n=r(a("CtXQ"));a("14J3");var i=r(a("BMrR"));a("+L6B");var u=r(a("2/Rp"));a("jCWc");var o=r(a("kPKH")),c=r(a("lwsE")),s=r(a("W8MJ")),d=r(a("a1gu")),f=r(a("Nsbk")),p=r(a("PJYZ")),m=r(a("7W2i"));a("5NDa");var h=r(a("5rEg"));a("y8nQ");var v,g,y,E,w=r(a("Vl3Y")),k=l(a("q1tI")),b=r(a("OgmY")),z=(r(a("mOP9")),a("MuoO")),C=w.default.Item,x=(h.default.Group,v=(0,z.connect)(function(e){var t=e.user,a=e.loading;return{user:t,loading:a.models.user}}),g=w.default.create(),v(y=g((E=function(e){function t(){var e,a;(0,c.default)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return a=(0,d.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(l))),a.state={count:0,confirmDirty:!1},a.onGetCaptcha=function(){var e=a.props,t=e.dispatch,r=e.form.validateFields,l=(0,p.default)(a);r(["username"],function(e,a){e||t({type:"user/fetch_captcha",payload:{telephone:a.username,type:2},callback:function(){var e=59;l.setState({count:e}),l.interval=setInterval(function(){e-=1,l.setState({count:e}),0===e&&clearInterval(l.interval)},1e3)}})})},a.checkConfirm=function(e,t,r){var l=a.props.form;t&&t!==l.getFieldValue("password")?r("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4!"):r()},a.checkPassword=function(e,t,r){var l=a.props.form;t&&a.state.confirmDirty&&l.validateFields(["confirm"],{force:!0}),r()},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleSubmit=function(){var e=a.props,t=e.dispatch,r=e.form.validateFields;r(function(e,a){e||t({type:"user/fetch_retrieve",payload:{username:a.username,captcha:a.captcha,password:a.password}})})},a}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=this.state.count;return k.default.createElement("div",{className:b.default.login,style:{minHeight:460,height:"calc(100vh - ".concat(318,"px")}},k.default.createElement("div",{style:{width:380,background:"#fff",borderRadius:5,float:"right",marginRight:"10%",position:"relative",top:"50%",transform:"translateY(-50%)"}},k.default.createElement("div",{style:{padding:"12px 48px"}},k.default.createElement("div",{style:{fontSize:18,textAlign:"center",marginBottom:12,color:"#666"}},"\u627e\u56de\u5bc6\u7801"),k.default.createElement(C,null,t("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/(?:^1[3456789]|^9[28])\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7"}]})(k.default.createElement(h.default,{size:"large",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"}))),k.default.createElement(C,null,k.default.createElement(i.default,{gutter:8},k.default.createElement(o.default,{span:14},t("captcha",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}]})(k.default.createElement(h.default,{size:"large",placeholder:"\u9a8c\u8bc1\u7801"}))),k.default.createElement(o.default,{span:8},k.default.createElement(u.default,{size:"large",disabled:a,style:{background:"#ee7c3d",color:"#fff"},onClick:this.onGetCaptcha},a?"".concat(a," s"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")))),k.default.createElement(C,null,t("password",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{validator:this.checkPassword},{pattern:/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))(?!^.*[\u4E00-\u9FA5].*$)^\S{8,18}$/,message:"\u8bf7\u8f93\u51658-16\u4f4d\u7684\u81f3\u5c11\u5305\u542b\u6570\u5b57,\u5b57\u6bcd,\u7b26\u53f7\u4e24\u79cd\u7c7b\u578b\u7684\u5bc6\u7801"}]})(k.default.createElement(h.default,{size:"large",type:"password",placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c118\u4f4d\uff0c\u5305\u542b\u5b57\u6bcd\u548c\u6570\u5b57"}))),k.default.createElement(C,null,t("confirm",{rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801!"},{pattern:/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))(?!^.*[\u4E00-\u9FA5].*$)^\S{8,18}$/,message:"\u8bf7\u8f93\u51658-16\u4f4d\u7684\u81f3\u5c11\u5305\u542b\u6570\u5b57,\u5b57\u6bcd,\u7b26\u53f7\u4e24\u79cd\u7c7b\u578b\u7684\u5bc6\u7801"},{validator:this.checkConfirm}]})(k.default.createElement(h.default,{size:"large",onBlur:this.handleConfirmBlur,type:"password",placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}))),k.default.createElement(u.default,{block:!0,size:"large",type:"primary",onClick:this.handleSubmit},"\u786e\u5b9a")),k.default.createElement("div",{style:{margin:"12px 0",textAlign:"center"}},k.default.createElement(n.default,{type:"info-circle",style:{fontSize:"22px",position:"relative",top:4,marginRight:8}}),"\u8eab\u4efd\u8bc1\u53f7\u7801\u767b\u5f55\u7684\u7528\u6237\u82e5\u9700\u8981\u627e\u56de\u5bc6\u7801\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458")))}}]),t}(k.PureComponent),y=E))||y)||y);t.default=x}}]);